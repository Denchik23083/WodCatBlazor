@page "/workouts/{WorkoutId:int}"

<HeaderComponent />

<div class="wrapperId">
    <div class="row mb-2">
        <div class="col text-left text-light pages">
            <a href="/" class="link">WODCAT</a>&nbsp;&rarr;&nbsp;
            <a href="/workouts" class="link">КросcФит Тренировки (WOD)</a>&nbsp;&rarr;&nbsp;
            @Workout.Name
        </div>
    </div>
    <div class="row mb-2">
        <div class="col">
            <span class="NameId">@Workout.Name</span>
            <span class="cub">@Workout.Modality</span>
            <span class="greenCub">@Workout.Rating / 10</span>
            <span class="greenCub">Рекомендуется</span>
        </div>
    </div>
    
    <div class="row p-3 mb-2">
        <div class="col-4 pl-0">
            <div class="workoutsId p-3">
                <div class="row">
                    <div class="col">
                        <span>На время:<br/>
                            @foreach (var item in WorkoutExercises)
                            {
                                @item
                                <br/>
                            }
                        </span><br/>
                        <span class="workoutsTimeId">
                            Время @Workout.Minutes<span>m</span>:@Workout.Seconds<span>s</span>
                        </span>
                    </div>
                </div>
                <div class="row">
                    <div class="col text-center">
                        <img src="@Workout.Image" alt="Image"/>
                    </div>
                </div>
                <div class="row">
                    <div class="col p-3 text-right">
                        <button class="btn btn-primary">Старт</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-8">
            <div class="workoutsId p-3">
                @if (IsLogin)
                {
                    <ResultWorkoutsComponent WorkoutId="WorkoutId"/>
                    <EditDeleteResult @ref="EditDeleteResult"
                                      OnDelete="OnDelete"
                                      OnEdit="OnEdit"
                                      OnCancel="OnCancel">
                    </EditDeleteResult>
                }
                else
                {
                    <div class="row">
                        <div class="col">
                            <h1>You need login!</h1>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
    
    <div class="row p-3 mb-2">
        <div class="col pl-0" @onclick="IsDisplayDialog">
            @if (user is not null)
            {
                <h2 class="text-white">@ResultWorkouts.Count() результатов</h2>
                <hr class="hr"/>
                <table class="table table-borderless">
                    <thead>
                    <tr class="tableheader">
                        <th scope="col">Имя</th>
                        <th scope="col">Время</th>
                        <th scope="col">Повт.</th>
                        <th scope="col">Страна</th>
                        <th scope="col">Город</th>
                        <th scope="col">Дата</th>
                        <th scope="col">Увлекательность</th>
                        <th scope="col">Нагрузка</th>
                        <th scope="col">Комме.</th>
                    </tr>
                    </thead>
                    <tbody>
                    @foreach (var item in ResultWorkouts)
                    {
                        <tr class="displayDialog" @onclick="() => GetId(item.Id)">
                            <td>@user.Name</td>
                            <td>@item.Minutes<span>m</span>:@item.Seconds<span>s</span></td>
                            <td>@item.Repeat</td>
                            <td>@user.Country</td>
                            <td>@user.Town</td>
                            <td>@item.PublishDate</td>
                            <td>@item.Fascination</td>
                            <td>@item.Load</td>
                            <td>@item.Comment</td>
                        </tr>
                    }
                    </tbody>
                </table>
            }

        </div>
    </div>
</div>